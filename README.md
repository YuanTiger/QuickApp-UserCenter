#简介
###1、效果
![具体效果](http://7xvzby.com1.z0.glb.clouddn.com/%E5%BF%AB%E5%BA%94%E7%94%A8GIF%E6%95%88%E6%9E%9C.gif)
###2、什么是快应用
[快应用](https://www.quickapp.cn/)是由小米、中兴、华为、联想、魅族、OnePlus等十家手机厂商一起研发的一款免安装集成应用。
现在在这十家的应用市场搜索[快应用](https://www.quickapp.cn/)，就可以看到别人开发的快应用，一点即可打开，无需下载。
快应用目前支持的功能：

- 支持视频、音频的播放，列表、图片、文字的展示，网页浏览，表单控件；
- 支持文件的上传/下载，支持Http请求；
- 支持本地数据的持久化存储；
- 支持微信、支付宝支付、第三方分享；
- 支持二维码扫描，地理位置监听，音量、亮度调节，设备信息获取等系统功能；
- 支持Push。


###3、普及程度（实用性）
快应用的免安装特性，和微信小程序一模一样，我们就和小程序比一比。
微信小程序的运行依赖于微信App，也就是说微信小程序可以针对所有的微信用户，不分系统，不分手机厂商。
快应用是由国内十大手机厂商共同研发的集成应用，它的运行需要得到对应的环境支持。
所以目前而言，快应用可能只能在这十家手机厂商上的手机上运行，并且不包括iOS系统，但是iOS系统在手机市场上占有相当大的比率。
所以总体来说，微信小程序的用户会多于快应用。



#开发环境搭建

###1、安装Node.JS
快应用需要6.0以上、8.0以下的Node.JS环境。
我使用的是[v6.11.3](https://nodejs.org/en/blog/release/v6.11.3/)。
点开往下拉找到自己操作系统的安装包，下载安装即可。
Windows系统还需要手动配置一下环境变量。
安装完成后，在终端输入-v命令来检查是否安装成功：
```
node -v
```

###2、关于Node.JS
[Node.JS](https://zh.wikipedia.org/wiki/Node.JS)是一个运行环境。
在Node.JS出现之前，JavaScript只能作为前端开发。
但是Node.JS允许通过JavaScript和一系列模块来编写服务器端应用和网络相关的应用。
Node.JS中的大部分模块都是JavaScript实现的。
Node.JS采用Google开发的V8运行代码，使用事件驱动、非阻塞和异步输入输出模型等技术来提高性能，可优化应用程序的传输量和规模。这些技术通常用于数据密集的实时应用程序。

###3、关于npm
[npm](http://www.runoob.com/nodejs/nodejs-npm.html)是Node.JS中的包管理工具，这个命令的使用场景有以下两种：

- 从远程仓库下载别人编写并上传的第三方库、第三方命令；
- 上传自己编写的第三方库、第三方命令到远程仓库。

这和Android中的maven、jcenter仓库是同一个道理，很好理解。
也就是说，在我们成功下载完成Node.JS后，就可以使用npm命令来进行Node.JS的第三方插件下载。

###4、安装hap-toolkit

使用如下命令：
```
npm install -g hap-toolkit
```
此插件就是快应用上传至npm仓库的插件，用来创建、编译快应用项目。
安装成功后，可以使用以下命令来查看自己是否安装成功：
```
hap -V
```

###5、安装调试apk
[快应用提供了一个调试快应用的开发工具和预览工具。](https://www.quickapp.cn/docCenter/post/69)
一般情况下，两者都要安装，但是如果只想看效果，只需要安装预览版即可，调试工具可以不装。
在终端配置过adb环境的电脑，可以直接使用如下命令安装apk：
```
adb install -r 路径.apk
```

#HelloQuickApp
###1、创建项目
环境搭建完成后，就开始创建第一个快应用。
输入如下命令创建快应用：
```
hap init <ProjectName>
```
接着会提示让你输入ProjectName，再输一遍项目名称即可，注意`package.json`的项目名称不支持中文，所以项目名称最后不要使用中文，如果使用中文，需要在init完成后，去`package.json`中更改项目名
至此项目便已经创建好了，我们会得到下面结构的项目：
```
├── sign                      rpk包签名模块
│   └── debug                 调试环境
│       ├── certificate.pem   证书文件
│       └── private.pem       私钥文件
├── src
│   ├── Common                公用的资源和组件文件
│   │   └── logo.png          应用图标
│   ├── Demo                  页面目录
│   |   └── index.ux          页面文件，可自定义页面名称
│   ├── app.ux                APP文件，可引入公共脚本，暴露公共数据和方法等
│   └── manifest.json         项目配置文件，配置应用图标、页面路由等
└── package.json              定义项目需要的各种模块及配置信息
```
接着我们启动项目，需要对该项目进行依赖库的下载。
就像拿到一个Android项目，需要先build，让它根据gradle配置去初始化项目一样。
使用如下命令，对项目进行初始化：
```
npm install
```
###2、编译项目
在项目初始化完成后，使用如下命令编译项目，得到rpk安装包：
```
npm run build
```
###3、启动调试服务器
```
npm run server
```
开发者可以通过命令行终端或者调试服务器主页看到提供扫描的二维码。
开发者通过快应用调试器扫码安装按钮，扫码安装待调试的rpk文件。
开发者点击快应用调试器中的开始调试按钮，开始调试。

日志仍然可以通过AndroidStudio的LogCat来查看。
也可以通过终端来查看：
```
adb logcat -s JsConsole
```

#功能讲解
###1、生命周期
有点像那个什么，单Activity应用，一直替换这个Activity里的Fragment。

每个Fragment，在快应用中指的就是一个具体的.ux文件。

生命周期和Android很像，但是方法名称完全不一样：

- onCreate()
    应用打开时调用，配置在app.ux中，类似于Application的onCreate()。
    页面是没有onCreate方法的。
- onInit ()
    页面创建时调用。
    触发此方法时，代表页面数据已经初始化完毕。
- onReady()
    页面创建时调用，在onInit()之后。
    触发此方法时，表示页面已经初始化完毕，可以获取DOM节点，就是View。
- onShow()
    等于onResume()，在页面可见时触发。
    可使用`$visible`来查看页面是否可见，true可见，false则不可见。
- onHide()
    等于onPause()，在页面不可见时触发。
- onDestory()
    在页面销毁时调用。
    销毁时机为返回上一页时、内存不足时。
    可用`$valid`来表示页面是否存在，true表示存在， false则代表被销毁。

###2、页面适配
Android适配的问题不必多说：
屏幕比例不按照16:9来做；拿着高分辨率的屏幕尺寸，结果像素密度低的不行，dpi算下来才等于hdpi，而市面上的主流手机早就达到了xxhdpi和xxxhdpi。

但是在在快用当中，适配就少了很多问题。
在快应用中有两种单位，px和%，需要在清单文件声明设计稿尺寸：
```
 "config": {
    "designWidth": 640
  }

```
接着px会和设计稿尺寸形成具体比例，不管在任何尺寸的机型上运行，都是以百分比来显示的。
也就是说px拥有自适应的能力，类似Android百分比布局。

###3、其他
其他功能就不做介绍了，具体了解的话可以登录快应用官网查看开发文档以及开发者论坛。
如果之前就会开发小程序或者是前端开发，学习起来会相当简单。
不过快应用本身的难度也不高，和Android开发非常类似。



